import{j as e,a as m,b as c,r as d,L as h,O as u,c as v}from"./index-wJwm7Zkf.js";import{b as j}from"./fetchMovies-sDX7K-fA.js";import{B as b}from"./index.esm-9i9XfRep.js";const f=({movie:s})=>{const{original_title:t,overview:o,vote_average:x,genres:r,release_date:n}=s,i=`${Math.round(x*10)} %`,a=new Date(n).getFullYear();return e.jsxs("div",{className:"flex flex-col gap-4 text-2xl text-secondaryText",children:[e.jsxs("h2",{className:"text-buttonColor",children:[t," (",a||"Release date unknown",")"]}),e.jsxs("h3",{className:"text-buttonColor",children:["User score: ",i]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-buttonColor",children:"Overview"}),e.jsx("div",{children:o})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-buttonColor",children:"Genres"}),r.length>0?e.jsx("div",{children:r.map(({name:l})=>l).join(", ")}):e.jsx("div",{children:"No data"})]})]})},p=({movie:s})=>{const{original_title:t,poster_path:o}=s;return e.jsx(e.Fragment,{children:o?e.jsx("img",{className:"block w-[300px] h-auto mr-8 rounded-lg shadow-md",src:`https://www.themoviedb.org/t/p/w300${o}`,alt:t,loading:"lazy"}):e.jsx("div",{className:"mr-8",children:e.jsx(b,{className:"fill-secondaryBacground",size:300})})})},g=()=>{var o;const t=((o=m().state)==null?void 0:o.from)??"/";return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-8 text-3xl text-buttonColor",children:"Additional information"}),e.jsxs("ul",{className:"flex items-center gap-4 mb-8",children:[e.jsx("li",{children:e.jsx(c,{className:"py-2 px-4 rounded no-underline text-xl text-primaryText bg-buttonColor font-medium transition-all duration-300 hover:bg-buttonHoverColor hover:shadow-md",to:"cast",state:{from:t},children:"Cast"})}),e.jsx("li",{children:e.jsx(c,{className:"py-2 px-4 rounded no-underline text-xl text-primaryText bg-buttonColor font-medium transition-all duration-300 hover:bg-buttonHoverColor hover:shadow-md",to:"reviews",state:{from:t},children:"Reviews"})})]}),e.jsx(d.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(u,{})})]})},w=()=>{var n;const{movieId:s}=v(),[t,o]=d.useState(),r=((n=m().state)==null?void 0:n.from)??"/";return d.useEffect(()=>{async function i(){try{if(!s)return;const l=(await j(s)).data;o(l)}catch(a){console.log(a)}}i()},[s]),t?e.jsxs("main",{children:[e.jsx(c,{className:"inline-block py-2 px-4 mb-8 rounded no-underline text-xl text-primaryText bg-buttonColor font-medium transition-all duration-300 hover:bg-buttonHoverColor hover:shadow-md",to:r,children:"Go back"}),e.jsxs("div",{className:"flex items-start mb-8",children:[e.jsx(p,{movie:t}),e.jsx(f,{movie:t})]}),e.jsx(g,{movie:t,state:{from:r}})]}):null},k=w;export{k as default};
